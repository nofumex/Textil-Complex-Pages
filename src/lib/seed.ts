import { db } from './db';
import { hashPassword } from './auth';
import { generateSlug, generateSKU, generateProductImages } from './utils';

async function seed() {
  console.log('üå± –ù–∞—á–∏–Ω–∞–µ–º –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...');

  try {
    // Create admin user
    console.log('üë§ –°–æ–∑–¥–∞—ë–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞...');
    const adminPassword = await hashPassword('admin123');
    
    const admin = await db.user.upsert({
      where: { email: 'admin@textil-kompleks.ru' },
      update: {},
      create: {
        firstName: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
        lastName: '–°–∏—Å—Ç–µ–º—ã',
        email: 'admin@textil-kompleks.ru',
        password: adminPassword,
        phone: '+7 (495) 123-45-67',
        role: 'ADMIN',
      },
    });

    // Create test customer
    console.log('üë§ –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞...');
    const customerPassword = await hashPassword('customer123');
    
    const customer = await db.user.upsert({
      where: { email: 'customer@example.com' },
      update: {},
      create: {
        firstName: '–ò–≤–∞–Ω',
        lastName: '–ü–µ—Ç—Ä–æ–≤',
        email: 'customer@example.com',
        password: customerPassword,
        phone: '+7 (495) 987-65-43',
        company: '–û–û–û "–¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è"',
        role: 'CUSTOMER',
      },
    });

    // Create categories
    console.log('üìÇ –°–æ–∑–¥–∞—ë–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏...');
    const categories = [
      {
        name: '–ü–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å–µ',
        slug: 'postelnoe-bele',
        description: '–ö–æ–º–ø–ª–µ–∫—Ç—ã –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤',
        seoTitle: '–ü–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å–µ - –∫—É–ø–∏—Ç—å –≤ –ú–æ—Å–∫–≤–µ | –¢–µ–∫—Å—Ç–∏–ª—å –ö–æ–º–ø–ª–µ–∫—Å',
        seoDesc: '–®–∏—Ä–æ–∫–∏–π –≤—ã–±–æ—Ä –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è: —Ö–ª–æ–ø–æ–∫, —Å–∞—Ç–∏–Ω, –ø–µ—Ä–∫–∞–ª—å. –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –ú–æ—Å–∫–≤–µ –∏ –æ–±–ª–∞—Å—Ç–∏.',
        sortOrder: 1,
      },
      {
        name: '–ü–æ–¥—É—à–∫–∏',
        slug: 'podushki',
        description: '–û—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–µ –∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –ø–æ–¥—É—à–∫–∏',
        seoTitle: '–ü–æ–¥—É—à–∫–∏ –¥–ª—è —Å–Ω–∞ - –æ—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–µ –∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ | –¢–µ–∫—Å—Ç–∏–ª—å –ö–æ–º–ø–ª–µ–∫—Å',
        seoDesc: '–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥—É—à–∫–∏ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–≥–æ —Å–Ω–∞. –†–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –∏ —Ä–∞–∑–º–µ—Ä—ã.',
        sortOrder: 2,
      },
      {
        name: '–û–¥–µ—è–ª–∞',
        slug: 'odeyala',
        description: '–û–¥–µ—è–ª–∞ –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö –∏ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤',
        seoTitle: '–û–¥–µ—è–ª–∞ - –ø—É—Ö–æ–≤—ã–µ, —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ, —à–µ—Ä—Å—Ç—è–Ω—ã–µ | –¢–µ–∫—Å—Ç–∏–ª—å –ö–æ–º–ø–ª–µ–∫—Å',
        seoDesc: '–¢–µ–ø–ª—ã–µ –∏ –ª–µ–≥–∫–∏–µ –æ–¥–µ—è–ª–∞ –¥–ª—è –ª—é–±–æ–≥–æ —Å–µ–∑–æ–Ω–∞. –ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–æ–≤.',
        sortOrder: 3,
      },
      {
        name: '–ù–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫–∏',
        slug: 'namatrasniki',
        description: '–ó–∞—â–∏—Ç–Ω—ã–µ –Ω–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫–∏ –∏ —Ç–æ–ø–ø–µ—Ä—ã',
        seoTitle: '–ù–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫–∏ - –∑–∞—â–∏—Ç–Ω—ã–µ, –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º—ã–µ | –¢–µ–∫—Å—Ç–∏–ª—å –ö–æ–º–ø–ª–µ–∫—Å',
        seoDesc: '–ó–∞—â–∏—Ç–∏—Ç–µ –≤–∞—à –º–∞—Ç—Ä–∞—Å —Å –ø–æ–º–æ—â—å—é –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫–æ–≤.',
        sortOrder: 4,
      },
      {
        name: '–ü–æ–ª–æ—Ç–µ–Ω—Ü–∞',
        slug: 'polotentsa',
        description: '–ë–∞–Ω–Ω—ã–µ –∏ –∫—É—Ö–æ–Ω–Ω—ã–µ –ø–æ–ª–æ—Ç–µ–Ω—Ü–∞',
        seoTitle: '–ü–æ–ª–æ—Ç–µ–Ω—Ü–∞ - –±–∞–Ω–Ω—ã–µ, –∫—É—Ö–æ–Ω–Ω—ã–µ, –º–∞—Ö—Ä–æ–≤—ã–µ | –¢–µ–∫—Å—Ç–∏–ª—å –ö–æ–º–ø–ª–µ–∫—Å',
        seoDesc: '–ú—è–≥–∫–∏–µ –∏ –≤–ø–∏—Ç—ã–≤–∞—é—â–∏–µ –ø–æ–ª–æ—Ç–µ–Ω—Ü–∞ –∏–∑ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.',
        sortOrder: 5,
      },
    ];

    const createdCategories = [];
    for (const categoryData of categories) {
      const category = await db.category.upsert({
        where: { slug: categoryData.slug },
        update: {},
        create: categoryData,
      });
      createdCategories.push(category);
    }

    // Create products
    console.log('üõèÔ∏è –°–æ–∑–¥–∞—ë–º —Ç–æ–≤–∞—Ä—ã...');
    const products = [
      // –ü–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å–µ
      {
        title: '–ö–æ–º–ø–ª–µ–∫—Ç –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è "–ö–ª–∞—Å—Å–∏–∫" 1.5-—Å–ø–∞–ª—å–Ω—ã–π',
        description: '–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è –∏–∑ 100% —Ö–ª–æ–ø–∫–∞ –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞',
        content: '–ö–æ–º–ø–ª–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç: –ø–æ–¥–æ–¥–µ—è–ª—å–Ω–∏–∫ 145x210 —Å–º, –ø—Ä–æ—Å—Ç—ã–Ω—è 150x215 —Å–º, –Ω–∞–≤–æ–ª–æ—á–∫–∞ 70x70 —Å–º - 1 —à—Ç. –ú–∞—Ç–µ—Ä–∏–∞–ª: –ø–µ—Ä–∫–∞–ª—å, 100% —Ö–ª–æ–ø–æ–∫. –ü–ª–æ—Ç–Ω–æ—Å—Ç—å: 120 –≥/–º¬≤. –°—Ç–∏—Ä–∫–∞ –ø—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –¥–æ 40¬∞C.',
        price: 2500,
        oldPrice: 3000,
        stock: 15,
        material: '100% —Ö–ª–æ–ø–æ–∫, –ø–µ—Ä–∫–∞–ª—å',
        category: 'MIDDLE',
        categoryId: createdCategories[0].id,
        tags: ['—Ö–ª–æ–ø–æ–∫', '–ø–µ—Ä–∫–∞–ª—å', '1.5-—Å–ø–∞–ª—å–Ω—ã–π', '–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π'],
        seoTitle: '–ö–æ–º–ø–ª–µ–∫—Ç –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è –ö–ª–∞—Å—Å–∏–∫ 1.5-—Å–ø–∞–ª—å–Ω—ã–π - –∫—É–ø–∏—Ç—å –≤ –ú–æ—Å–∫–≤–µ',
        seoDesc: '–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è –∏–∑ 100% —Ö–ª–æ–ø–∫–∞. –ü–µ—Ä–∫–∞–ª—å, —Ä–∞–∑–º–µ—Ä 1.5-—Å–ø–∞–ª—å–Ω—ã–π. –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –ú–æ—Å–∫–≤–µ –∏ –æ–±–ª–∞—Å—Ç–∏.',
        dimensions: '145x210 —Å–º',
        weight: 1.2,
      },
      {
        title: '–ö–æ–º–ø–ª–µ–∫—Ç –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è "–õ—é–∫—Å" 2-—Å–ø–∞–ª—å–Ω—ã–π',
        description: '–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –∏–∑ –µ–≥–∏–ø–µ—Ç—Å–∫–æ–≥–æ —Ö–ª–æ–ø–∫–∞',
        content: '–ö–æ–º–ø–ª–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç: –ø–æ–¥–æ–¥–µ—è–ª—å–Ω–∏–∫ 175x215 —Å–º, –ø—Ä–æ—Å—Ç—ã–Ω—è 180x220 —Å–º, –Ω–∞–≤–æ–ª–æ—á–∫–∏ 70x70 —Å–º - 2 —à—Ç. –ú–∞—Ç–µ—Ä–∏–∞–ª: —Å–∞—Ç–∏–Ω –ø—Ä–µ–º–∏—É–º, 100% –µ–≥–∏–ø–µ—Ç—Å–∫–∏–π —Ö–ª–æ–ø–æ–∫. –ü–ª–æ—Ç–Ω–æ—Å—Ç—å: 140 –≥/–º¬≤.',
        price: 4500,
        stock: 8,
        material: '100% –µ–≥–∏–ø–µ—Ç—Å–∫–∏–π —Ö–ª–æ–ø–æ–∫, —Å–∞—Ç–∏–Ω',
        category: 'LUXURY',
        categoryId: createdCategories[0].id,
        tags: ['–µ–≥–∏–ø–µ—Ç—Å–∫–∏–π —Ö–ª–æ–ø–æ–∫', '—Å–∞—Ç–∏–Ω', '2-—Å–ø–∞–ª—å–Ω—ã–π', '–ø—Ä–µ–º–∏—É–º'],
        seoTitle: '–ö–æ–º–ø–ª–µ–∫—Ç –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è –õ—é–∫—Å 2-—Å–ø–∞–ª—å–Ω—ã–π –∏–∑ –µ–≥–∏–ø–µ—Ç—Å–∫–æ–≥–æ —Ö–ª–æ–ø–∫–∞',
        seoDesc: '–ü—Ä–µ–º–∏–∞–ª—å–Ω–æ–µ –ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å–µ –∏–∑ –µ–≥–∏–ø–µ—Ç—Å–∫–æ–≥–æ —Ö–ª–æ–ø–∫–∞. –°–∞—Ç–∏–Ω –≤—ã—Å—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞, —Ä–∞–∑–º–µ—Ä 2-—Å–ø–∞–ª—å–Ω—ã–π.',
        dimensions: '175x215 —Å–º',
        weight: 1.8,
        isFeatured: true,
      },
      // –ü–æ–¥—É—à–∫–∏
      {
        title: '–ü–æ–¥—É—à–∫–∞ –æ—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∞—è "–ö–æ–º—Ñ–æ—Ä—Ç"',
        description: '–û—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∞—è –ø–æ–¥—É—à–∫–∞ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø–∞–º—è—Ç–∏',
        content: '–ü–æ–¥—É—à–∫–∞ —Å –Ω–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∏–∑ –ø–µ–Ω–æ–ø–æ–ª–∏—É—Ä–µ—Ç–∞–Ω–∞ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø–∞–º—è—Ç–∏. –†–∞–∑–º–µ—Ä: 60x40x12 —Å–º. –ß–µ—Ö–æ–ª —Å—ä–µ–º–Ω—ã–π, –∏–∑ –±–∞–º–±—É–∫–æ–≤–æ–≥–æ –≤–æ–ª–æ–∫–Ω–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≥–æ–ª–æ–≤—ã –∏ —à–µ–∏ –≤–æ –≤—Ä–µ–º—è —Å–Ω–∞.',
        price: 1200,
        stock: 25,
        material: '–ü–µ–Ω–æ–ø–æ–ª–∏—É—Ä–µ—Ç–∞–Ω —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø–∞–º—è—Ç–∏',
        category: 'MIDDLE',
        categoryId: createdCategories[1].id,
        tags: ['–æ—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∞—è', '–ø–∞–º—è—Ç—å', '–±–∞–º–±—É–∫', '—Å—ä–µ–º–Ω—ã–π —á–µ—Ö–æ–ª'],
        seoTitle: '–û—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∞—è –ø–æ–¥—É—à–∫–∞ –ö–æ–º—Ñ–æ—Ä—Ç —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø–∞–º—è—Ç–∏',
        seoDesc: '–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∞—è –ø–æ–¥—É—à–∫–∞ –¥–ª—è –∑–¥–æ—Ä–æ–≤–æ–≥–æ —Å–Ω–∞. –ù–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø–∞–º—è—Ç–∏.',
        dimensions: '60x40x12 —Å–º',
        weight: 0.8,
        isFeatured: true,
      },
      {
        title: '–ü–æ–¥—É—à–∫–∞ –ø—É—Ö–æ–≤–∞—è "–ü—Ä–µ–º–∏—É–º"',
        description: '–ü–æ–¥—É—à–∫–∞ –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –≥—É—Å–∏–Ω–æ–≥–æ –ø—É—Ö–∞',
        content: '–ü–æ–¥—É—à–∫–∞ —Å –Ω–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∏–∑ 90% –≥—É—Å–∏–Ω–æ–≥–æ –ø—É—Ö–∞ –∏ 10% –ø–µ—Ä–∞. –†–∞–∑–º–µ—Ä: 70x70 —Å–º. –ß–µ—Ö–æ–ª –∏–∑ 100% —Ö–ª–æ–ø–∫–∞. –í—ã—Å–æ–∫–∞—è –≤–æ–∑–¥—É—Ö–æ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ—Å—Ç—å –∏ —Ç–µ—Ä–º–æ—Ä–µ–≥—É–ª—è—Ü–∏—è.',
        price: 3500,
        stock: 12,
        material: '90% –≥—É—Å–∏–Ω—ã–π –ø—É—Ö, 10% –ø–µ—Ä–æ',
        category: 'LUXURY',
        categoryId: createdCategories[1].id,
        tags: ['–ø—É—Ö', '–≥—É—Å–∏–Ω—ã–π', '–Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π', '–ø—Ä–µ–º–∏—É–º'],
        seoTitle: '–ü—É—Ö–æ–≤–∞—è –ø–æ–¥—É—à–∫–∞ –ü—Ä–µ–º–∏—É–º –∏–∑ –≥—É—Å–∏–Ω–æ–≥–æ –ø—É—Ö–∞ 70x70',
        seoDesc: '–†–æ—Å–∫–æ—à–Ω–∞—è –ø–æ–¥—É—à–∫–∞ –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –≥—É—Å–∏–Ω–æ–≥–æ –ø—É—Ö–∞. –†–∞–∑–º–µ—Ä 70x70 —Å–º. –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ.',
        dimensions: '70x70 —Å–º',
        weight: 1.0,
      },
      // –û–¥–µ—è–ª–∞
      {
        title: '–û–¥–µ—è–ª–æ –ø—É—Ö–æ–≤–æ–µ "–ó–∏–º–Ω–µ–µ"',
        description: '–¢–µ–ø–ª–æ–µ –ø—É—Ö–æ–≤–æ–µ –æ–¥–µ—è–ª–æ –¥–ª—è –∑–∏–º—ã',
        content: '–û–¥–µ—è–ª–æ —Å –Ω–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∏–∑ –±–µ–ª–æ–≥–æ –≥—É—Å–∏–Ω–æ–≥–æ –ø—É—Ö–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≠–∫—Å—Ç—Ä–∞. –†–∞–∑–º–µ—Ä: 172x205 —Å–º. –ß–µ—Ö–æ–ª –∏–∑ —Å–∞—Ç–∏–Ω–∞. –°—Ç–µ–ø–µ–Ω—å —Ç–µ–ø–ª–æ—Ç—ã: –æ—á–µ–Ω—å —Ç–µ–ø–ª–æ–µ. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∑–∏–º–Ω–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞.',
        price: 5500,
        stock: 6,
        material: '–ë–µ–ª—ã–π –≥—É—Å–∏–Ω—ã–π –ø—É—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≠–∫—Å—Ç—Ä–∞',
        category: 'LUXURY',
        categoryId: createdCategories[2].id,
        tags: ['–ø—É—Ö', '–∑–∏–º–Ω–µ–µ', '—Ç–µ–ø–ª–æ–µ', '—Å–∞—Ç–∏–Ω'],
        seoTitle: '–ü—É—Ö–æ–≤–æ–µ –æ–¥–µ—è–ª–æ –ó–∏–º–Ω–µ–µ –∏–∑ –±–µ–ª–æ–≥–æ –≥—É—Å–∏–Ω–æ–≥–æ –ø—É—Ö–∞',
        seoDesc: '–û—á–µ–Ω—å —Ç–µ–ø–ª–æ–µ –ø—É—Ö–æ–≤–æ–µ –æ–¥–µ—è–ª–æ –¥–ª—è –∑–∏–º—ã. –ë–µ–ª—ã–π –≥—É—Å–∏–Ω—ã–π –ø—É—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≠–∫—Å—Ç—Ä–∞.',
        dimensions: '172x205 —Å–º',
        weight: 2.2,
        isFeatured: true,
      },
      {
        title: '–û–¥–µ—è–ª–æ –≤—Å–µ—Å–µ–∑–æ–Ω–Ω–æ–µ "–ö–æ–º—Ñ–æ—Ä—Ç"',
        description: '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –æ–¥–µ—è–ª–æ –¥–ª—è –ª—é–±–æ–≥–æ —Å–µ–∑–æ–Ω–∞',
        content: '–û–¥–µ—è–ª–æ —Å –Ω–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∏–∑ —Ö–æ–ª–ª–æ—Ñ–∞–π–±–µ—Ä–∞. –†–∞–∑–º–µ—Ä: 140x205 —Å–º. –ì–∏–ø–æ–∞–ª–ª–µ—Ä–≥–µ–Ω–Ω–æ–µ, –ª–µ–≥–∫–æ —Å—Ç–∏—Ä–∞–µ—Ç—Å—è. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫—Ä—É–≥–ª–æ–≥–æ–¥–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.',
        price: 1800,
        stock: 20,
        material: '–•–æ–ª–ª–æ—Ñ–∞–π–±–µ—Ä',
        category: 'ECONOMY',
        categoryId: createdCategories[2].id,
        tags: ['—Ö–æ–ª–ª–æ—Ñ–∞–π–±–µ—Ä', '–≤—Å–µ—Å–µ–∑–æ–Ω–Ω–æ–µ', '–≥–∏–ø–æ–∞–ª–ª–µ—Ä–≥–µ–Ω–Ω–æ–µ', '–ª–µ–≥–∫–∏–π —É—Ö–æ–¥'],
        seoTitle: '–í—Å–µ—Å–µ–∑–æ–Ω–Ω–æ–µ –æ–¥–µ—è–ª–æ –ö–æ–º—Ñ–æ—Ä—Ç –∏–∑ —Ö–æ–ª–ª–æ—Ñ–∞–π–±–µ—Ä–∞',
        seoDesc: '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –æ–¥–µ—è–ª–æ –¥–ª—è –∫—Ä—É–≥–ª–æ–≥–æ–¥–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ì–∏–ø–æ–∞–ª–ª–µ—Ä–≥–µ–Ω–Ω—ã–π —Ö–æ–ª–ª–æ—Ñ–∞–π–±–µ—Ä.',
        dimensions: '140x205 —Å–º',
        weight: 1.5,
      },
      // –ù–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫–∏
      {
        title: '–ù–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫ –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º—ã–π',
        description: '–ó–∞—â–∏—Ç–Ω—ã–π –Ω–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫ —Å –º–µ–º–±—Ä–∞–Ω–æ–π',
        content: '–ù–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫ —Å –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ–π –º–µ–º–±—Ä–∞–Ω–æ–π TPU. –†–∞–∑–º–µ—Ä: 160x200 —Å–º. –ó–∞—â–∏—â–∞–µ—Ç –º–∞—Ç—Ä–∞—Å –æ—Ç –∂–∏–¥–∫–æ—Å—Ç–µ–π –∏ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–π. –î—ã—à–∞—â–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª, –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –ø–∞—Ä–Ω–∏–∫–æ–≤–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞.',
        price: 1800,
        stock: 18,
        material: '–ü–æ–ª–∏—ç—Å—Ç–µ—Ä + –º–µ–º–±—Ä–∞–Ω–∞ TPU',
        category: 'MIDDLE',
        categoryId: createdCategories[3].id,
        tags: ['–≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º—ã–π', '–º–µ–º–±—Ä–∞–Ω–∞', '–∑–∞—â–∏—Ç–Ω—ã–π', '–¥—ã—à–∞—â–∏–π'],
        seoTitle: '–í–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º—ã–π –Ω–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫ —Å –º–µ–º–±—Ä–∞–Ω–æ–π TPU',
        seoDesc: '–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞—â–∏—Ç–Ω—ã–π –Ω–∞–º–∞—Ç—Ä–∞—Å–Ω–∏–∫. –í–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–∞—è –º–µ–º–±—Ä–∞–Ω–∞, –¥—ã—à–∞—â–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª.',
        dimensions: '160x200 —Å–º',
        weight: 0.9,
        isFeatured: true,
      },
      // –ü–æ–ª–æ—Ç–µ–Ω—Ü–∞
      {
        title: '–ö–æ–º–ø–ª–µ–∫—Ç –º–∞—Ö—Ä–æ–≤—ã—Ö –ø–æ–ª–æ—Ç–µ–Ω–µ—Ü',
        description: '–ù–∞–±–æ—Ä –º—è–≥–∫–∏—Ö –º–∞—Ö—Ä–æ–≤—ã—Ö –ø–æ–ª–æ—Ç–µ–Ω–µ—Ü',
        content: '–ö–æ–º–ø–ª–µ–∫—Ç –∏–∑ 3 –ø–æ–ª–æ—Ç–µ–Ω–µ—Ü: –±–∞–Ω–Ω–æ–µ 70x140 —Å–º, –ª–∏—Ü–µ–≤–æ–µ 50x90 —Å–º, –¥–ª—è —Ä—É–∫ 30x50 —Å–º. –ú–∞—Ç–µ—Ä–∏–∞–ª: 100% —Ö–ª–æ–ø–æ–∫, –º–∞—Ö—Ä–∞. –ü–ª–æ—Ç–Ω–æ—Å—Ç—å: 450 –≥/–º¬≤. –í—ã—Å–æ–∫–∞—è –≤–ø–∏—Ç—ã–≤–∞–µ–º–æ—Å—Ç—å.',
        price: 1200,
        stock: 30,
        material: '100% —Ö–ª–æ–ø–æ–∫, –º–∞—Ö—Ä–∞',
        category: 'MIDDLE',
        categoryId: createdCategories[4].id,
        tags: ['–º–∞—Ö—Ä–∞', '–∫–æ–º–ø–ª–µ–∫—Ç', '—Ö–ª–æ–ø–æ–∫', '–≤–ø–∏—Ç—ã–≤–∞—é—â–∏–µ'],
        seoTitle: '–ö–æ–º–ø–ª–µ–∫—Ç –º–∞—Ö—Ä–æ–≤—ã—Ö –ø–æ–ª–æ—Ç–µ–Ω–µ—Ü –∏–∑ 100% —Ö–ª–æ–ø–∫–∞',
        seoDesc: '–ú—è–≥–∫–∏–µ –º–∞—Ö—Ä–æ–≤—ã–µ –ø–æ–ª–æ—Ç–µ–Ω—Ü–∞ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞. –ù–∞–±–æ—Ä –∏–∑ 3 —Ä–∞–∑–º–µ—Ä–æ–≤.',
        dimensions: '70x140, 50x90, 30x50 —Å–º',
        weight: 1.1,
      },
    ];

    for (const productData of products) {
      const slug = generateSlug(productData.title);
      const sku = generateSKU(categories.find(c => c.id === productData.categoryId)?.name || 'PRODUCT', productData.title);
      const images = generateProductImages(productData.title, 3);

      const created = await db.product.upsert({
        where: { slug },
        update: {},
        create: {
          ...productData,
          slug,
          sku,
          images,
        },
      });

      // Create sample variants for each product
      await db.productVariant.createMany({
        data: [
          {
            productId: created.id,
            size: 'S',
            color: '–ë–µ–ª—ã–π',
            material: created.material || undefined,
            price: Number(productData.price),
            stock: Math.max(0, (productData.stock || 0) - 1),
            sku: `${sku}-S`,
            isActive: true,
          },
          {
            productId: created.id,
            size: 'M',
            color: '–°–µ—Ä—ã–π',
            material: created.material || undefined,
            price: Number(productData.price) + 200,
            stock: Math.max(0, (productData.stock || 0) - 2),
            sku: `${sku}-M`,
            isActive: true,
          },
          {
            productId: created.id,
            size: 'L',
            color: '–ë–µ–∂–µ–≤—ã–π',
            material: created.material || undefined,
            price: Number(productData.price) + 400,
            stock: Math.max(0, (productData.stock || 0) - 3),
            sku: `${sku}-L`,
            isActive: true,
          },
        ],
        skipDuplicates: true,
      });
    }

    // Create sample order
    console.log('üì¶ –°–æ–∑–¥–∞—ë–º –ø—Ä–∏–º–µ—Ä–Ω—ã–π –∑–∞–∫–∞–∑...');
    const products_for_order = await db.product.findMany({ take: 2 });
    
    const order = await db.order.create({
      data: {
        orderNumber: 'TK-' + Date.now().toString().slice(-6) + '-ABC',
        userId: customer.id,
        status: 'NEW',
        firstName: customer.firstName,
        lastName: customer.lastName,
        email: customer.email,
        phone: customer.phone,
        company: customer.company,
        deliveryType: 'COURIER',
        subtotal: 4000,
        delivery: 500,
        total: 4500,
        items: {
          create: [
            {
              productId: products_for_order[0].id,
              quantity: 1,
              price: Number(products_for_order[0].price),
              total: Number(products_for_order[0].price),
            },
            {
              productId: products_for_order[1].id,
              quantity: 2,
              price: Number(products_for_order[1].price),
              total: Number(products_for_order[1].price) * 2,
            },
          ],
        },
      },
    });

    // Create order log
    await db.orderLog.create({
      data: {
        orderId: order.id,
        status: 'NEW',
        comment: '–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω –∫–ª–∏–µ–Ω—Ç–æ–º',
        createdBy: customer.id,
      },
    });

    // Create sample reviews
    console.log('‚≠ê –°–æ–∑–¥–∞—ë–º –æ—Ç–∑—ã–≤—ã...');
    const review_products = await db.product.findMany({ take: 3 });
    
    const reviews = [
      {
        productId: review_products[0].id,
        userId: customer.id,
        rating: 5,
        title: '–û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ!',
        content: '–û—á–µ–Ω—å –¥–æ–≤–æ–ª—å–Ω—ã –ø–æ–∫—É–ø–∫–æ–π. –ö–∞—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ–µ, –ø–æ—à–∏–≤ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π. –†–µ–∫–æ–º–µ–Ω–¥—É—é!',
        isActive: true,
      },
      {
        productId: review_products[1].id,
        userId: customer.id,
        rating: 4,
        title: '–•–æ—Ä–æ—à–∞—è –ø–æ–¥—É—à–∫–∞',
        content: '–£–¥–æ–±–Ω–∞—è –æ—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∞—è –ø–æ–¥—É—à–∫–∞. –°–ø–∞—Ç—å —Å—Ç–∞–ª–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –º–∏–Ω—É—Å - –¥–æ–ª–≥–æ –ø—Ä–∏–≤—ã–∫–∞–ª –∫ –Ω–æ–≤–æ–π –≤—ã—Å–æ—Ç–µ.',
        isActive: true,
      },
      {
        productId: review_products[2].id,
        userId: customer.id,
        rating: 5,
        title: '–¢–µ–ø–ª–æ–µ –∏ –ª–µ–≥–∫–æ–µ',
        content: '–ü—É—Ö–æ–≤–æ–µ –æ–¥–µ—è–ª–æ –ø—Ä–æ—Å—Ç–æ –≤–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ–µ! –û—á–µ–Ω—å —Ç–µ–ø–ª–æ–µ, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ —Ç—è–∂–µ–ª–æ–µ. –°–æ–Ω —Å—Ç–∞–ª –Ω–∞–º–Ω–æ–≥–æ –ª—É—á—à–µ.',
        isActive: true,
      },
    ];

    for (const reviewData of reviews) {
      await db.review.create({
        data: reviewData,
      });
    }

    // Create sample leads
    console.log('üìù –°–æ–∑–¥–∞—ë–º –ª–∏–¥—ã...');
    const leads = [
      {
        name: '–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞',
        phone: '+7 (495) 111-22-33',
        email: 'maria@hotel.ru',
        company: '–û—Ç–µ–ª—å "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π"',
        message: '–ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –æ–ø—Ç–æ–≤–∞—è –∑–∞–∫—É–ø–∫–∞ –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è –¥–ª—è –≥–æ—Å—Ç–∏–Ω–∏—Ü—ã –Ω–∞ 50 –Ω–æ–º–µ—Ä–æ–≤',
        source: 'landing',
        status: 'NEW',
      },
      {
        name: '–î–º–∏—Ç—Ä–∏–π –ö–æ–∑–ª–æ–≤',
        phone: '+7 (495) 444-55-66',
        email: 'dmitry@example.com',
        message: '–•–æ—á—É –∑–∞–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –æ—Ç—à–∏–≤–∫—É –ø–æ—Å—Ç–µ–ª—å–Ω–æ–≥–æ –±–µ–ª—å—è',
        source: 'catalog',
        status: 'CONTACTED',
      },
    ];

    for (const leadData of leads) {
      await db.lead.create({
        data: leadData,
      });
    }

    // Create settings
    console.log('‚öôÔ∏è –°–æ–∑–¥–∞—ë–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏...');
    const settings = [
      { key: 'contactEmail', value: 'za-bol@yandex.ru', type: 'STRING' },
      { key: 'contactPhone', value: '+7 (391) 278‚Äí46‚Äí72', type: 'STRING' },
      { key: 'address', value: '–ú–∞–µ—Ä—á–∞–∫–∞, 49–≥ —Å–∫–ª–∞–¥ ‚Ññ4', type: 'STRING' },
      {
        key: 'socialLinks',
        value: JSON.stringify([
          { label: 'WB', url: 'Wildberries' },
          { label: '–í–ö', url: 'vk.com/stiligoroda' },
        ]),
        type: 'JSON',
      },
      {
        key: 'extraContacts',
        value: JSON.stringify([
          {
            title: '–û—Ç–¥–µ–ª –ø—Ä–æ–¥–∞–∂ –≥–æ—Ç–æ–≤—ã—Ö –∏–∑–¥–µ–ª–∏–π',
            values: ['+7 (391) 278-04-60', '+7(967) 608-04-60', '+7 (967) 612-32-54'],
          },
          {
            title: '–û—Ç–¥–µ–ª —Ä–∞—Å—á–µ—Ç–∞ (—Ü–µ—Ö –ø–æ—à–∏–≤–∞)',
            values: ['+7 (391) 278-04-60', '+7 (905) 976-46-25'],
          },
          {
            title: '–û—Ç–¥–µ–ª –ø—Ä–æ–¥–∞–∂ (–æ–¥–µ–∂–¥–∞ –¥–ª—è –¥–æ–º–∞)',
            values: ['+7 (923) 015-28-10'],
          },
        ]),
        type: 'JSON',
      },
    ];

    for (const setting of settings) {
      await db.setting.upsert({
        where: { key: setting.key },
        update: {},
        create: setting,
      });
    }

    console.log('‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∞!');
    console.log(`üë§ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: admin@textil-kompleks.ru / admin123`);
    console.log(`üë§ –ö–ª–∏–µ–Ω—Ç: customer@example.com / customer123`);

  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:', error);
  } finally {
    await db.$disconnect();
  }
}

if (require.main === module) {
  seed();
}

export default seed;


